<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>TITULO</title>
  
  <script type="text/javascript" src="../../lib/descartes-min.js"></script>
</head>

<body style="margin:0; background:#eff0f1;">

  <div align="center">
    <ajs name="Descartes" width="1024" height="625" code="Descartes">
      <param name="tamaño" value="1024x625">
      <param name="decimal_symbol" value=".">
      <param name="image_loader" value="">
      <param name="expand" value="">
      <param name="nombre" value="Descartes">
      <param name="Versión" value="5.5">
      <param name="antialias" value="sí">
      <param name="deshacer" value="no">
      <param name="editable" value="no">
      <param name="Idioma" value="español">
      <param name="Botones" value="créditos=no config=no inicio=no limpiar=no filas_norte=0 filas_sur=0 ancho_este=150 ancho_oeste=150 alto=40 ">
      <param name="E_01" value="tipo='R2' id='E1' x='0' y='0' ancho='100%' alto='100%' dibujar-si='1' fijo='sí' escala='1' O.x='-50%' O.y='-50%' despl_imagen='arr-izq' fondo='ecf0f1' red='no' red10='no' ejes='no' texto='no' números='no' sensible_a_los_movimientos_del_ratón='no' ">
      <param name="C_01" value="id='Reiniciar' interfaz='botón' tipo='numérico' región='interior' espacio='E1' nombre='Reiniciar' expresión='((E1._w-150)/2,E1._h-60,150,40)' valor='0' visible='sí' color='333333' color-int='b9daa5' negrita='no' cursiva='no' subrayada='no' fuente puntos='22' imagen='_STYLE_|' acción='calcular' parámetro='ejercicio()' ">
      <param name="A_01" value="id='PESAS' matriz='sí' evaluar='una-sola-vez' columnas='6' filas='20' expresión='X=0 //coordenada x;Y=1 //coordenada y;W=2 //ancho;TIPO=3 //tipo de pesa, &squot;1&squot; &squot;x&squot;;LADO=4 //posición de la pesa;VISIBLE=5 //determina si la pesa es visible o no;;//constantes para denotar el lado donde se encuentra una pesa;L_CEN=-1 //en el centro;L_IZQ= 0 //lado izquierdo;L_DER= 1 //lado derecho' tipo='matriz' info='Matriz para guardar la información de las pesas' ">
      <param name="A_02" value="id='initPesas()' algoritmo='sí' expresión='0' local='i;cond' inicio='i=0' hacer='cond=i<PESAS.filas/2;PESAS[i,X]=balanza.x;PESAS[i,Y]=balanza.y -((cond)?pesaUno.y:pesaX.y);PESAS[i,W]=(cond)?pesaUno.w:pesaX.w;PESAS[i,TIPO]=(cond)?&squot;1&squot;:&squot;x&squot;;PESAS[i,LADO]=L_CEN;PESAS[i,VISIBLE]=1;;i=i+1' mientras='i<PESAS.filas' tipo='función' info='Inicia los valores de las pesas' ">
      <param name="A_03" value="id='radianes(x)' algoritmo='no' expresión='pi*x/180' tipo='función' info='Convierte de grados a radianes' ">
      <param name="A_04" value="id='grados(x)' algoritmo='no' expresión='x*180/pi' tipo='función' info='Convierte de radianes a grados' ">
      <param name="A_05" value="id='selecciona(x,y)' algoritmo='sí' expresión='cual' local='cual;px;py;pw;ph;cond' inicio='i=0;cond=0' hacer='pw=PESAS[i,W];ph=pw;px=PESAS[i,X]-pw/2;py=PESAS[i,Y]-ph/2;;cond=(PESAS[i,VISIBLE])&&(px<=x)&&(x<=(px+pw))&&(py<=y)&&(y<=(py+ph));cual=(cond)?i:-1;(cond)?obtenerDesface(cual):NULL;;i=i+1' mientras='(cond==0)&&(i<PESAS.filas)' tipo='función' info='Encuenta el indice de la una pesa seleccionada con el mouse' ">
      <param name="A_06" value="id='obtenerDesface(cual)' algoritmo='sí' expresión='0' hacer='pesas_offset_x=PESAS[cual,X]-E1.mouse_x;pesas_offset_y=PESAS[cual,Y]+E1.mouse_y' tipo='función' info='Obtiene el desface entre la posición del click y la posicion de la pesa' ">
      <param name="A_07" value="id='arrastraPesa(cual)' algoritmo='sí' expresión='0' hacer='PESAS[cual,X]= E1.mouse_x+pesas_offset_x;PESAS[cual,Y]=-E1.mouse_y+pesas_offset_y' tipo='función' info='Cambia las coordenadas de la pesa ' ">
      <param name="A_08" value="id='colocaPesa(cual)' algoritmo='sí' expresión='0' hacer='PESAS[cual,LADO]=obtenerLado(cual);acomodaPesas()' tipo='función' info='Coloca una pesa en su lugar' ">
      <param name="A_09" value="id='obtenerLado(cual)' algoritmo='sí' expresión='lado' local='lado' inicio='lado=L_CEN' hacer='lado=((platoIzq.x-plato.w/2 < PESAS[cual,X])&&(PESAS[cual,X] < platoIzq.x+plato.w/2))?L_IZQ:lado;lado=((platoDer.x-plato.w/2 < PESAS[cual,X])&&(PESAS[cual,X] < platoDer.x+plato.w/2))?L_DER:lado;' tipo='función' info='Determina en que lado se soltó la pesa' ">
      <param name="A_10" value="id='acomodaPesas()' algoritmo='sí' expresión='0' local='i' inicio='i=0;numUnoIzq=0;numXIzq=0;numUnoDer=0;numXDer=0' hacer='(PESAS[i,LADO]==L_CEN)?acomodaCentro(i):NULL;(PESAS[i,LADO]==L_IZQ)?acomodaIzquierda(i):NULL;(PESAS[i,LADO]==L_DER)?acomodaDerecha(i):NULL;;i=i+1' mientras='i<PESAS.filas' tipo='función' info='Acomoda las pesas usando funciones auxiliares para cada posición' ">
      <param name="A_11" value="id='acomodaCentro(cual)' algoritmo='sí' expresión='0' hacer='PESAS[cual,X]=balanza.x;PESAS[cual,Y]=balanza.y -((i<PESAS.filas/2)?pesaUno.y:pesaX.y)' tipo='función' info='Acomoda las pesas al centro' ">
      <param name="A_12" value="id='acomodaIzquierda(cual)' algoritmo='sí' expresión='0' local='tipoUno' hacer='offsetUno=27*escalaImg;offsetX=39*escalaImg;platoIzq.y=balanza.y+a*sen(alfa)-plato.h;;tipoUno=(PESAS[cual,TIPO]==&squot;1&squot;);;PESAS[cual,X]=(tipoUno)?platoIzq.x +offsetUno +(numUnoIzq%2)*PESAS[cual,W]:platoIzq.x -offsetX +(numXIzq%2)*PESAS[cual,W];PESAS[cual,Y]=(tipoUno)?platoIzq.y -PESAS[cual,W]/2 -ent(numUnoIzq/2)*PESAS[cual,W]:platoIzq.y -PESAS[cual,W]/2 -ent(numXIzq/2)*PESAS[cual,W];;numUnoIzq=numUnoIzq+(tipoUno);numXIzq=numXIzq+(!tipoUno)' tipo='función' info='Acomoda las pesas a la izquierda' ">
      <param name="A_13" value="id='acomodaDerecha(cual)' algoritmo='sí' expresión='0' local='tipoUno' hacer='offsetUno=27*escalaImg;offsetX=39*escalaImg;platoDer.y=balanza.y-a*sen(alfa)-plato.h;;tipoUno=(PESAS[cual,TIPO]==&squot;1&squot;);;PESAS[cual,X]=(tipoUno)?platoDer.x +offsetUno +(numUnoDer%2)*PESAS[cual,W]:platoDer.x -offsetX +(numXDer%2)*PESAS[cual,W];PESAS[cual,Y]=(tipoUno)?platoDer.y -PESAS[cual,W]/2 -ent(numUnoDer/2)*PESAS[cual,W]:platoDer.y -PESAS[cual,W]/2 -ent(numXDer/2)*PESAS[cual,W];;numUnoDer=numUnoDer+(tipoUno);numXDer=numXDer+(!tipoUno)' tipo='función' info='Acomoda las pesas a la derecha' ">
      <param name="A_14" value="id='calculaAlfa()' algoritmo='sí' expresión='0' inicio='ang=0;lim=8.5' hacer='pesoIzq=numUnoIzq +numXIzq*valX;pesoDer=numUnoDer +numXDer*valX;ang=(pesoIzq>pesoDer)?((pesoIzq!=0)?(lim-pesoDer/pesoIzq*lim):lim):ang;ang=(pesoIzq<pesoDer)?((pesoDer!=0)?(-lim+pesoIzq/pesoDer*lim):-lim):ang;;oriAlfa=grados(alfa);gradosAlfa=oriAlfa;newAlfa=ang;dirAlfa=esIgual(oriAlfa,newAlfa)?0:((oriAlfa<newAlfa)?1:-1);' tipo='función' info='Calcula el ángulo del brazo de la balanza' ">
      <param name="A_15" value="id='animaBalanza()' algoritmo='sí' expresión='0' local='cond' hacer='gradosAlfa=gradosAlfa +dirAlfa*incrAlfa;;cond=(dirAlfa>0)?(gradosAlfa>newAlfa):((dirAlfa<0)?(gradosAlfa<newAlfa):1);alfa=(cond)?radianes(newAlfa):radianes(gradosAlfa);animar=(cond)?0:animar;;acomodaPesas()' tipo='función' info='Anima la balanza' ">
      <param name="A_16" value="id='obtenerEcuacion()' algoritmo='sí' expresión='str' local='str;strIzq;strXIzq;strUnoIzq;strDer;strXDer;strUnoDer;operador' inicio='str=&squot;&squot;' hacer='strXIzq=(numXIzq==0)?&squot;&squot;:((numXIzq==1)?&squot;x&squot;:numXIzq+&squot;x&squot;);strUnoIzq=(numUnoIzq==0)?&squot;&squot;:numUnoIzq;strXDer=(numXDer==0)?&squot;&squot;:((numXDer==1)?&squot;x&squot;:numXDer+&squot;x&squot;);strUnoDer=(numUnoDer==0)?&squot;&squot;:numUnoDer;;strIzq=((strXIzq==&squot;&squot;)&&(strUnoIzq==&squot;&squot;))?&squot;0&squot;:strIzq;strIzq=((strXIzq!=&squot;&squot;)&&(strUnoIzq==&squot;&squot;))?strXIzq:strIzq;strIzq=((strXIzq==&squot;&squot;)&&(strUnoIzq!=&squot;&squot;))?strUnoIzq:strIzq;strIzq=((strXIzq!=&squot;&squot;)&&(strUnoIzq!=&squot;&squot;))?strXIzq+&squot; + &squot;+strUnoIzq:strIzq;;strDer=((strXDer==&squot;&squot;)&&(strUnoDer==&squot;&squot;))?&squot;0&squot;:strDer;strDer=((strXDer!=&squot;&squot;)&&(strUnoDer==&squot;&squot;))?strXDer:strDer;strDer=((strXDer==&squot;&squot;)&&(strUnoDer!=&squot;&squot;))?strUnoDer:strDer;strDer=((strXDer!=&squot;&squot;)&&(strUnoDer!=&squot;&squot;))?strXDer+&squot; + &squot;+strUnoDer:strDer;;BALANCEADA=((numXIzq*valX +numUnoIzq)==(numXDer*valX +numUnoDer));operador=(BALANCEADA)?&squot; = &squot;:&squot; ≠ &squot;;;str=strIzq + operador + strDer' tipo='función' info='Construye una cadena que corresponde a la ecuacion representada en la balanza' ">
      <param name="A_17" value="id='coloca(cuantos,tipo,lado)' algoritmo='sí' expresión='0' local='i;cont;cond' inicio='i=0;cont=0' hacer='cond=(PESAS[i,TIPO]==tipo)&&(PESAS[i,LADO]==L_CEN)&&(cont<cuantos);PESAS[i,LADO]=(cond)?lado:PESAS[i,LADO];cont=cont +cond;;i=i+1' mientras='i<PESAS.filas' tipo='función' info='Coloca un número de objetos de cierto tipo (&squot;1&squot; o &squot;x&squot;) en algún lado de la balanza' ">
      <param name="A_18" value="id='escondeLibres(tipo)' algoritmo='sí' expresión='0' local='i' inicio='i=0' hacer='PESAS[i,VISIBLE]=((PESAS[i,TIPO]==tipo)&&(PESAS[i,LADO]==L_CEN))?0:PESAS[i,VISIBLE];i=i+1' mientras='i<PESAS.filas' tipo='función' info='Esconde las pesas libreas de un tipo' ">
      <param name="A_19" value="id='iniciar(escalaInicial)' algoritmo='sí' expresión='0' inicio='animar=0' hacer='escalaImg=escalaInicial;;//posición del centro de la balanza;balanza.x=E1._w/2;balanza.y=400;;incrAlfa=0.2;;cual=-1;lado=-1;;brazo.w=130*escalaImg;a=brazo.w;;pesaUno.w=(17+3)*escalaImg;pesaX.w=(32+3)*escalaImg;pesaUno.y=120*escalaImg;pesaX.y=70*escalaImg;;plato.w=118*escalaImg;plato.h=36*escalaImg;;valX=2' tipo='función' info='Inicia la escena' ">
      <param name="A_20" value="id='reset()' algoritmo='sí' expresión='0' hacer='alfa=radianes(0) // va de 8 a -8;platoIzq.x=balanza.x-a*cos(alfa);platoDer.x=balanza.x+a*cos(alfa);seleccionado=-1;;initPesas()' tipo='función' info='Reinicia los valores de la escena' ">
      <param name="A_21" value="id='INICIO' algoritmo='sí' evaluar='una-sola-vez' hacer='iniciar(1);reset();;//coloca(1,&squot;1&squot;,L_IZQ);//coloca(2,&squot;x&squot;,L_IZQ);//coloca(3,&squot;1&squot;,L_DER);//coloca(4,&squot;x&squot;,L_DER);;//acomoda las pesas colocadas;acomodaPesas();//se calcula la nueva alfa;calculaAlfa();//y se asigna el valor de alfa para colocar la balanza en su lugar;alfa=radianes(newAlfa);//se acomodan las pesas con la nueva inclinación de la balanza;acomodaPesas();;//se esconden las x que no se necesitan;//escondeLibres(&squot;x&squot;);//escondeLibres(&squot;1&squot;)' ">
      <param name="A_22" value="id='CALCULOS' algoritmo='sí' evaluar='siempre' ">
      <param name="A_23" value="id='AgarraPesa' evento='sí' condición='(!animar)&&(E1.mouse_pressed)' acción='calcular' parámetro='cual=selecciona(E1.mouse_x,-E1.mouse_y);//PESAS[cual,LADO]=(cual!=-1)?L_CEN:PESAS[cual,LADO];' ejecución='alternar' ">
      <param name="A_24" value="id='ArrastraPesa' evento='sí' condición='(!animar)&&(cual!=-1)' acción='calcular' parámetro='arrastraPesa(cual)' ejecución='siempre' ">
      <param name="A_25" value="id='SueltaPesa' evento='sí' condición='(!animar)&&(!E1.mouse_pressed)&&(cual!=-1)' acción='calcular' parámetro='colocaPesa(cual);calculaAlfa();cual=-1;animar=1;acomodaPesas()' ejecución='alternar' ">
      <param name="A_26" value="id='Animar' evento='sí' condición='animar' acción='animar' ejecución='alternar' ">
      <param name="G_01" value="espacio='E1' tipo='texto' fondo='sí' color='20303a' expresión='[20,20]' texto='[instruccion]' decimales='2' fijo='sí' ancho='E1._w-40' fuente='SansSerif,PLAIN,22' align='a_left' anchor='a_top_left' info='Instrucción' ">
      <param name="G_02" value="espacio='E1' tipo='segmento' fondo='no' color='0000ff' dibujar-si='0' coord_abs='sí' expresión='(balanza.x-a*cos(alfa),balanza.y+a*sen(alfa))(balanza.x+a*cos(alfa),balanza.y-a*sen(alfa))' decimales='2' fijo='sí' tamaño='0' ancho='4' fuente='SansSerif,PLAIN,18' lineDash='solid' info='Brazo de la balanza' ">
      <param name="G_03" value="espacio='E1' tipo='segmento' fondo='no' color='0000ff' dibujar-si='0' coord_abs='sí' expresión='(balanza.x+12-a*cos(alfa)-plato.w/2,balanza.y+a*sen(alfa)-plato.h)(balanza.x+10-a*cos(alfa)+plato.w/2,balanza.y+a*sen(alfa)-plato.h)' decimales='2' fijo='sí' tamaño='0' ancho='4' fuente='SansSerif,PLAIN,18' lineDash='solid' info='Plato izquierdo de la balanza' ">
      <param name="G_04" value="espacio='E1' tipo='segmento' fondo='no' color='0000ff' dibujar-si='0' coord_abs='sí' expresión='(balanza.x-8+a*cos(alfa)-plato.w/2,balanza.y-a*sen(alfa)-plato.h)(balanza.x+a*cos(alfa)+plato.w/2-10,balanza.y-a*sen(alfa)-plato.h)' decimales='2' fijo='sí' tamaño='0' ancho='4' fuente='SansSerif,PLAIN,18' lineDash='solid' info='Plato derecho de la balanza' ">
      <param name="G_05" value="espacio='E1' tipo='punto' fondo='no' color='20303a' dibujar-si='0' coord_abs='sí' expresión='(balanza.x,balanza.y)' decimales='2' fijo='sí' tamaño='5' fuente='SansSerif,PLAIN,18' info='Centro del brazo de la balanza' ">
      <param name="G_06" value="espacio='E1' tipo='polígono' fondo='no' color='404040' dibujar-si='PESAS[s,VISIBLE]' coord_abs='sí' expresión='(PESAS[s,X]-PESAS[s,W]/2,PESAS[s,Y]-PESAS[s,W]/2)(PESAS[s,X]+PESAS[s,W]/2,PESAS[s,Y]-PESAS[s,W]/2)(PESAS[s,X]+PESAS[s,W]/2,PESAS[s,Y]+PESAS[s,W]/2)(PESAS[s,X]-PESAS[s,W]/2,PESAS[s,Y]+PESAS[s,W]/2)(PESAS[s,X]-PESAS[s,W]/2,PESAS[s,Y]-PESAS[s,W]/2)' familia='s' s.intervalo='[0,PESAS.filas-1]' s.pasos='PESAS.filas-1' relleno='ffffff' ancho='1' lineDash='solid' ">
      <param name="G_07" value="espacio='E1' tipo='punto' fondo='no' color='000000' dibujar-si='PESAS[s,VISIBLE]' coord_abs='sí' expresión='(PESAS[s,X]-4,PESAS[s,Y]+PESAS[s,W]/2)' familia='s' s.intervalo='[0,PESAS.filas-1]' s.pasos='PESAS.filas-1' texto='[PESAS[s,TIPO]]' decimales='0' fijo='sí' tamaño='0' fuente='SansSerif,PLAIN,18' ">
      <param name="G_08" value="espacio='E1' tipo='imagen' fondo='no' coord_abs='sí' expresión='(balanza.x,balanza.y+39*escalaImg,escalaImg,escalaImg)' archivo='../images/balanza/base.svg' rotini='0' opacidad='1' info='Base' ">
      <param name="G_09" value="espacio='E1' tipo='imagen' fondo='no' coord_abs='sí' expresión='(balanza.x,balanza.y,escalaImg,escalaImg)' archivo='../images/balanza/barra.svg' rotini='grados(alfa)' opacidad='1' info='Brazo de la balanza' ">
      <param name="G_10" value="espacio='E1' tipo='imagen' fondo='no' coord_abs='sí' expresión='(balanza.x,balanza.y-5*escalaImg,escalaImg,escalaImg)' archivo='../images/balanza/medio.svg' rotini='0' opacidad='1' info='Parte media de la balanza' ">
      <param name="G_11" value="espacio='E1' tipo='imagen' fondo='no' coord_abs='sí' expresión='(plato.w/2 +balanza.x-a*cos(alfa)-plato.w/2,plato.h/2 +6*escalaImg +balanza.y+a*sen(alfa)-plato.h,escalaImg,escalaImg)' archivo='../images/balanza/bandeja-balanza.svg' rotini='0' opacidad='1' info='Plato izquierdo de la balanza' ">
      <param name="G_12" value="espacio='E1' tipo='imagen' fondo='no' coord_abs='sí' expresión='(plato.w/2 +balanza.x+a*cos(alfa)-plato.w/2,plato.h/2 +6*escalaImg +balanza.y-a*sen(alfa)-plato.h,escalaImg,escalaImg)' archivo='../images/balanza/bandeja-balanza.svg' rotini='0' opacidad='1' info='Plato derecho de la balanza' ">
      <param name="G_13" value="espacio='E1' tipo='texto' fondo='no' color='20303a' expresión='[20,220]' texto='[pesaUno.w] [pesaX.w]' decimales='8' fijo='no' ancho='E1._w-40' fuente='SansSerif,PLAIN,22' align='a_left' anchor='a_top_left' info='debug' ">
      <param name="G_14" value="espacio='E1' tipo='texto' fondo='no' color='20303a' expresión='[20,120]' texto='[obtenerEcuacion()]' decimales='8' fijo='no' ancho='E1._w-40' fuente='SansSerif,PLAIN,22' align='a_left' anchor='a_top_left' info='debug' ">
      <param name="G_15" value="espacio='E1' tipo='texto' fondo='no' color='000000' expresión='[balanza.x+1,balanza.y+72*escalaImg]' texto='[obtenerEcuacion()]' decimales='2' fijo='sí' ancho='1' color_borde_texto='ffffff' fuente='SansSerif,PLAIN,32' align='a_left' anchor='a_center_center' ">
      <param name="Animación" value="pausa='30' controles='sí' auto='no' repetir='no' hacer='animaBalanza()' mientras='animar' ">
    </ajs>
  </div>



</body>
</html>